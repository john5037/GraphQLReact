(this.webpackJsonpreactgraphql=this.webpackJsonpreactgraphql||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(4),r=n.n(c),o=n(2),i={baseURL:"https://api.github.com/graphql",username:"john5037",headers:{"Content-Type":"application/json",Authorization:"bearer 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"}},l=function(e,t,n,a){return{query:'\n     {\n  viewer {\n    name\n  }\n  search(query: "'.concat(t,' user:john5037 sort:updated:desc", type: REPOSITORY, ').concat(n,": ").concat(e,", ").concat(a,") {\n    repositoryCount\n    edges {\n      cursor\n      node {\n      ... on Repository {\n        name\n        description\n        id\n        url\n      }\n    }\n    }\n    pageInfo {\n      startCursor\n      endCursor\n      hasNextPage\n      hasPreviousPage\n    }\n  }\n}\n")}},u=n(0),b=function(e){var t=e.repo;return Object(u.jsx)("li",{className:"list-group-item",children:Object(u.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(u.jsxs)("div",{className:"d-flex flex-column",children:[Object(u.jsx)("a",{href:t.url,className:"h5 mb-0 text-decoration-none",children:t.name}),Object(u.jsx)("p",{className:"small",children:t.description})]}),Object(u.jsx)("span",{className:"px-1 py-1 ms-1 d-inline-block btn btn-sm "+("SUBSCRIBED"===t.viewerSubscription?"btn-success":"btn-outline-secondary"),style:{fontSize:"0.6em"},children:t.viewerSubscription})]})},t.id.toString())},d=function(e){var t=e.totalCount,n=e.pageCount,a=e.queryString,s=e.onTotalChange,c=e.onQueryChange;return Object(u.jsxs)("div",{className:"d-flex align-items-center bg-light px-3 py-2 small rounded-3",children:[Object(u.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[Object(u.jsx)("label",{htmlFor:"queryString",className:"me-2 fw-bold text-secondary",children:"Search"}),Object(u.jsx)("input",{id:"queryString",className:"form-control form-control-sm me-2",type:"text",value:a,onChange:function(e){c(e.target.value)}})]}),Object(u.jsxs)("div",{className:"d-flex align-items-center",children:[Object(u.jsx)("label",{htmlFor:"pageCount",className:"me-2 fw-bold text-secondary",children:"Show"}),Object(u.jsx)("input",{id:"pageCount",className:"form-control form-control-sm text-center me-2",type:"number",min:"1",max:"100",value:n,onChange:function(e){s(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{className:"me-2 text-secondary",children:"Total:"}),t]})]})},j=function(e){var t=e.start,n=e.end,a=e.next,s=e.previous,c=e.onPage;return Object(u.jsxs)("div",{className:"d-flex justify-content-center my-2",children:[s&&Object(u.jsx)("button",{className:"btn mx-1 btn-sm btn-primary bi bi-arrow-left",onClick:function(){return c("last",'before: "'+t+'"')}}),a&&Object(u.jsx)("button",{className:"btn mx-1 btn-sm btn-primary bi bi-arrow-right",onClick:function(){return c("first",'after: "'+n+'"')}})]})};var m=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(null),r=Object(o.a)(c,2),m=r[0],h=r[1],p=Object(a.useState)(10),O=Object(o.a)(p,2),f=O[0],x=O[1],g=Object(a.useState)("test"),v=Object(o.a)(g,2),y=v[0],S=v[1],C=Object(a.useState)(null),N=Object(o.a)(C,2),w=N[0],P=N[1],q=Object(a.useState)(null),I=Object(o.a)(q,2),R=I[0],k=I[1],T=Object(a.useState)(null),B=Object(o.a)(T,2),J=B[0],E=B[1],U=Object(a.useState)(!1),F=Object(o.a)(U,2),z=F[0],A=F[1],L=Object(a.useState)(!0),Q=Object(o.a)(L,2),V=Q[0],Y=Q[1],D=Object(a.useState)("first"),H=Object(o.a)(D,2),K=H[0],M=H[1],_=Object(a.useState)(" "),G=Object(o.a)(_,2),W=G[0],X=G[1],Z=Object(a.useCallback)((function(){var e=JSON.stringify(l(f,y,K,W));fetch(i.baseURL,{method:"POST",headers:i.headers,body:e}).then((function(e){return e.json()})).then((function(e){var t,n,a,c,r=e.data.viewer,o=e.data.search.edges,i=e.data.search.repositoryCount,l=null===(t=e.data.search.pageInfo)||void 0===t?void 0:t.startCursor,u=null===(n=e.data.search.pageInfo)||void 0===n?void 0:n.endCursor,b=null===(a=e.data.search.pageInfo)||void 0===a?void 0:a.hasNextPage,d=null===(c=e.data.search.pageInfo)||void 0===c?void 0:c.hasPreviousPage;s(r.name),h(o),P(i),k(l),E(u),Y(b),A(d)})).catch((function(e){console.log(e)}))}),[f,y,W,K]);return Object(a.useEffect)((function(){Z()}),[Z]),Object(u.jsxs)("div",{className:"App container mt-5",children:[Object(u.jsxs)("h1",{className:"text-primary",children:[Object(u.jsx)("i",{className:"bi bi-diagram-2-fill"}),"Repository"]}),Object(u.jsxs)("p",{children:["Hey  ",n]}),Object(u.jsx)(d,{totalCount:w,pageCount:f,queryString:y,onTotalChange:function(e){x(e)},onQueryChange:function(e){S(e)}}),Object(u.jsx)(j,{start:R,end:J,next:V,previous:z,onPage:function(e,t){M(e),X(t)}}),m&&Object(u.jsx)("ul",{className:"list-group list-group-flush",children:m.map((function(e){return Object(u.jsx)(b,{repo:e.node},e.node.id)}))})]})};n(10);r.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(m,{})}),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.712ee7f1.chunk.js.map